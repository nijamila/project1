{% extends 'base.html' %}
{% block title %}Expenses{% endblock %}

{% block content %}
<div style="max-width:900px; margin:40px auto; padding:30px; background:#fff; border-radius:10px; box-shadow:0 4px 16px rgba(0,0,0,0.05);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
        <h2 style="color:#111827; font-weight:600;">Expenses</h2>
        <a href="{% url 'transaction_expense_create' %}" 
           style="background-color:#2563eb; color:#fff; padding:10px 18px; text-decoration:none; border-radius:6px; font-weight:500; transition:0.2s;">
           Add Expense
        </a>
    </div>

    <table style="width:100%; border-collapse:collapse; font-size:14px; color:#1e293b;">
        <thead>
            <tr style="border-bottom:2px solid #e5e7eb;">
                <th style="text-align:left; padding:8px 12px;">Date</th>
                <th style="text-align:left; padding:8px 12px;">Wallet</th>
                <th style="text-align:left; padding:8px 12px;">Category</th>
                <th style="text-align:right; padding:8px 12px;">Amount</th>
                <th style="text-align:left; padding:8px 12px;">Description</th>
                <th style="text-align:left; padding:8px 12px;">Photo</th>
            </tr>
        </thead>
        <tbody>
            {% for expense in expenses %}
            <tr style="border-bottom:1px solid #f1f5f9;">
                <td style="padding:8px 12px;">{{ expense.date }}</td>
                <td style="padding:8px 12px;">{{ expense.wallet.name }}</td>
                <td style="padding:8px 12px;">{{ expense.category.name }}</td>
                <td style="padding:8px 12px; text-align:right;">{{ expense.amount }} {{ expense.wallet.currency.code }}</td>
                <td style="padding:8px 12px;">{{ expense.description|default:"-" }}</td>
                <td style="padding:8px 12px;">
                    {% if expense.photo %}
                        <img src="{{ expense.photo.url }}" alt="Expense Photo" style="max-width:60px; border-radius:4px;">
                    {% else %}
                        -
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="6" style="padding:12px; text-align:center; color:#6b7280;">No records yet.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
